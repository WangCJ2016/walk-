<!--
  Generated template for the ProDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>项目详情</ion-title>
    </ion-navbar>
    <ion-toolbar>
        <ion-segment [(ngModel)]='segment'>
            <ion-segment-button value="dymanic">
                动态
            </ion-segment-button>
            <ion-segment-button value="shiwu">
                事务
            </ion-segment-button>
            <ion-segment-button value="progress">
                进度&控制
            </ion-segment-button>
        </ion-segment>
    </ion-toolbar>
    <ion-toolbar class="topfix_toolbar">
            <!-- <pro-filter [members]='members'></pro-filter> -->
        </ion-toolbar>
</ion-header>


<ion-content>
    <div [ngSwitch]='segment'>
        <div *ngSwitchCase='"dymanic"'>
            <div *ngFor="let item of propeo?.phase">
                    <div class="period_title"  (click)='proid_show = !proid_show'>
                            <span>{{item.phaseName}}({{item.phasePersonCount}}人)</span>
                            <ion-icon class="arrow" [style.transform]="proid_show?'rotate(90deg)':''" name="arrow-forward"></ion-icon>
                        </div>
                        <!-- <ion-list *ngIf="proid_show">
                            <ion-item>
                                <ion-label>全部成员({{propeo?.allPersonCount}}人)</ion-label>
                            </ion-item>
                            <ion-item *ngFor="let item of propeo?.phase">
                                <ion-label>{{item.phaseName}}({{item.phasePersonCount}}人)</ion-label>
                                <ion-badge color='danger' item-end>65</ion-badge>
                            </ion-item>
                        </ion-list> -->
            </div>
        </div>
        <div class="shiwu" *ngSwitchCase='"shiwu"'>
            <fix-top ></fix-top>
            <!-- <section class="content">
                <div class="pro_item" padding>
                    <h4>1.如果项目中的任务，只想让任务参与者能够看到</h4>

                </div>
            </section> -->
            <div class="list">
                <div class="pro-item" *ngFor="let item of proThingLists?.result" >
                    <span class="title">{{item.name}}</span>
                    <div class="item-content"><span>主办人：{{item.mainPersonEmp.name}}</span><span>进度{{item.progress}}%({{thingType(item.status)}})</span>&nbsp;<span class="danger">剩余{{item.surplusDays}}天</span></div>
                </div>
                
            </div>
        </div>
    </div>
</ion-content>